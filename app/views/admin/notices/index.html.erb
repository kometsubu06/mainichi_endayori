<div class="flex items-center justify-between mb-3">
  <h1 class="text-lg font-semibold">お知らせ管理</h1>
  <%= link_to new_admin_notice_path,
        class: "px-3 py-1.5 text-sm rounded-lg bg-sky-600 text-white hover:bg-sky-700",
        aria: { label: "お知らせを新規作成" } do %>
    <i class="fa-solid fa-plus mr-1"></i> 新規作成
  <% end %>
</div>

<% if @notices.present? %>
  <table class="w-full text-sm bg-white border border-slate-200 rounded-lg overflow-hidden">
    <thead class="bg-slate-50">
      <tr>
        <th class="text-left px-3 py-2 border-b border-slate-200">タイトル</th>
        <th class="text-left px-3 py-2 border-b border-slate-200">締切</th>
        <th class="text-left px-3 py-2 border-b border-slate-200">公開状態</th>
        <th class="text-left px-3 py-2 border-b border-slate-200 w-32"></th>
      </tr>
    </thead>
    <tbody>
      <% @notices.each do |notice| %>
        <tr class="border-b last:border-b-0">
          <td class="px-3 py-2">
            <%= link_to notice.title, admin_notice_path(notice), class: "text-sky-700 hover:underline" %>
          </td>
          <td class="px-3 py-2"><%= notice.respond_to?(:due_on) ? (notice.due_on || "-") : "-" %></td>
          <td class="px-3 py-2"><%= notice.states_label %></td>
          <td class="px-3 py-2">
            <%= link_to "編集", edit_admin_notice_path(notice), class: "text-slate-700 hover:underline" %>
            |
            <%= link_to "削除", admin_notice_path(notice),
                  data: { turbo_method: :delete, confirm: "削除しますか？" },
                  class: "text-rose-700 hover:underline" %>
          </td>
        </tr>
      <% end %>
    </tbody>
  </table>
<% else %>
  <div class="border rounded-xl bg-white p-6 text-center text-slate-600">
    まだお知らせはありません。<br>
    <%= link_to new_admin_notice_path,
          class: "inline-flex items-center mt-3 px-3 py-1.5 rounded-lg bg-sky-600 text-white hover:bg-sky-700" do %>
      <i class="fa-solid fa-plus mr-1"></i> 新規作成
    <% end %>
  </div>
<% end %>
