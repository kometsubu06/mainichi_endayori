<!-- app/views/notices/index.html.erb -->
<h1>お知らせ</h1>

<% if @notices.empty? %>
  <p>現在表示できるお知らせはありません。</p>
<% else %>
  <ul>
    <% @notices.each do |n| %>
      <% unread = !@read_ids.include?(n.id) %>
      <li style="margin:.5rem 0;">
        <%= render 'notices/badge', notice: n, unread: unread %>

        <%= link_to n.title, notice_path(n) %>

        <% if n.due_on %>
          <small>（締切: <%= n.due_on %>）</small>
        <% end %>

        <% if n.require_submission %>
          <span style="padding:.1rem .4rem;border:1px solid #999;border-radius:.4rem;font-size:.8em;margin-left:.4rem;">提出あり</span>
        <% end %>
      </li>
    <% end %>
  </ul>
<% end %>